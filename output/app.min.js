"use strict";var startGameButton=document.querySelector(".start-game"),addButtons=document.querySelectorAll(".add-button");addButtons.forEach(function(r){r.addEventListener("click",function(){r.style.display="none";var t=r.parentNode.querySelector(".config-checkbox");t.checked=!0,r.parentNode.querySelector(".actions .cancel").addEventListener("click",function(){r.style.display="block",t.checked=!1,resetConfigCard(r.parentNode)});var n=r.parentNode.querySelector(".actions .confirm");n.addEventListener("click",function(){var e;n.classList.contains("active")&&(e=r.parentNode.classList[1].slice(-1),addCardsInDeck(document.querySelector(".deck".concat(e)),n.parentNode.parentNode),r.style.display="block",t.checked=!1,resetConfigCard(r.parentNode),n.classList.remove("active"))})})});var allCheckbox=document.querySelectorAll(".select-checkbox"),selects=document.querySelectorAll(".select");selects.forEach(function(t){t.addEventListener("click",function(e){allCheckbox.forEach(function(e){t.contains(e)?e.checked=!e.checked:e.checked=!1})})});var options=document.querySelectorAll(".option");options.forEach(function(n){n.addEventListener("click",function(e){var t=e.target.textContent;e.target.parentNode.parentNode.parentNode.querySelector(".title").textContent=t,checkConfigCard(n.parentNode.parentNode.parentNode.parentNode)})});var inputsNumber=document.querySelectorAll(".number-of-cards");inputsNumber.forEach(function(n){n.addEventListener("keyup",function(e){var t=e.target.value;e.target.value=Math.round(parseFloat(t)),52<e.target.value&&(e.target.value=52),checkConfigCard(n.parentNode)})}),startGameButton.addEventListener("click",function(){startGameButton.classList.contains("active")&&(document.querySelector(".game-area").classList.remove("mode-config"),ordenDecks(),document.querySelector(".config").style.display="none")});var cardsContainers=document.querySelectorAll(".deck"),decksDiscarded=document.querySelectorAll(".deckDiscarded"),animationRunning=!1;function ordenDeck(e){for(var t=e.querySelectorAll(".card"),n=5,r=0;r<t.length;r++)t[r].style.transform="translate(0px, -".concat(n,"px) rotateX(-70deg) rotateY(0deg) rotateZ(10deg)"),t[r].style.zIndex=r,n+=5}function ordenDecks(){for(var e=0;e<cardsContainers.length;e++)for(var t=cardsContainers[e].querySelectorAll(".card"),n=5,r=0;r<t.length;r++)t[r].style.transform="translate(0px, -".concat(n,"px) rotateX(-70deg) rotateY(180deg) rotateZ(-10deg)"),t[r].style.zIndex=r,n+=5}function ordenDecksDiscarded(){for(var e=0;e<decksDiscarded.length;e++)for(var t=decksDiscarded[e].querySelectorAll(".card"),n=5,r=0;r<t.length;r++)t[r].classList.remove("see"),t[r].style.transform="translate(0px, -".concat(n,"px) rotateX(-70deg) rotateY(0deg) rotateZ(10deg)"),t[r].style.zIndex=r,n+=5}function checkConfigCard(e){var t=e.querySelector(".actions .confirm"),n=e.querySelector(".number-of-cards").value,r=e.querySelector(".suit").textContent,c=e.querySelector(".card-in-suit").textContent;""!=n&&"Suit"!=r&&"Card in suit"!=c?t.classList.add("active"):t.classList.remove("active")}function checkStatusConfig(){var e=document.querySelector(".deck1"),t=document.querySelector(".deck2"),n=document.querySelector(".deck3");0==e.childElementCount||0==t.childElementCount||0==n.childElementCount?startGameButton.classList.remove("active"):startGameButton.classList.add("active")}function resetConfigCard(e){e.querySelector(".number-of-cards").value="1",e.querySelector(".suit").textContent="Suit",e.querySelector(".card-in-suit").textContent="Card in suit"}function addCardsInDeck(e,t){for(var n=t.querySelector(".number-of-cards").value,r=t.querySelector(".suit").textContent,c=t.querySelector(".card-in-suit").textContent,a=isNaN(parseInt(c))?c[0]:c,o=0;o<n;o++){var d=document.createElement("div");d.setAttribute("class","card"),d.innerHTML='\n\t\t\t\t<div class="front">\n\t\t\t\t\t<img src="./img/cards/'.concat(a).concat(r[0],'.png">\n\t\t\t\t</div>\n\t\t\t\t<div class="reverse"></div>\n\t\t'),e.appendChild(d)}ordenDeck(e),checkStatusConfig()}cardsContainers.forEach(function(o){o.addEventListener("click",function(){var e,t,n,r,c,a;!animationRunning&&0<o.childElementCount&&(animationRunning=!0,e=o.childElementCount-1,t=Math.round(Math.random()*e),n=o.querySelectorAll(".card")[t],c=(r=o.querySelectorAll(".card")[e]).innerHTML,a=n.innerHTML,r.innerHTML=a,n.innerHTML=c,r.classList.add("see"),setTimeout(function(){var e=o.classList[1].slice(-1);document.querySelector(".deckDiscarded".concat(e)).appendChild(r),ordenDecksDiscarded(r),animationRunning=!1},3e3))})});